<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en-us">

  <head>
  <meta http-equiv="content-type" content="text/html; charset=utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">
  <link href="http://gmpg.org/xfn/11" rel="profile">
  <link rel="stylesheet" href="http://fonts.googleapis.com/css?family=Open+Sans:300,400italic,400,600,700|Abril+Fatface">
  <link href='http://fonts.googleapis.com/css?family=Inconsolata:400,700' rel='stylesheet' type='text/css'>
  <title>
    Overzicht les 4 &middot; 
    Rubyprog
  </title>

  <!-- CSS -->
  <link href="/public/bootstrap/css/bootstrap.css" rel="stylesheet">
  <!-- <link href="/public/bootstrap/css/bootstrap-theme.min.css" rel="stylesheet"> -->
  
  <link href="/public/css/syntax.css" rel="stylesheet">

  <script src="https://code.jquery.com/jquery-1.10.2.min.js"></script>
</head>


  <body class="scrollspy" id="top">

  <header>

  <!-- <img src="/public/images/logo.png" height="65px" style="padding:0px; margin-top:13px;"> -->
  <!-- <img src="/public/images/logo.png" height="60px" style="padding:0px; margin:0px;"/> -->
  <div class="navbar navbar-default" role="navigation">
    <div class="container">
      <div class="navbar-header">
        <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
          <span class="sr-only">Toggle navigation</span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>
        <a class="navbar-brand" href="/"><img id="rubylogo" src="/public/images/logo.png"></a>
      </div>
      <div class="navbar-collapse collapse">
        <ul class="nav navbar-nav navbar-right">
          <li><a href="/" style="font-weight:400;">Home</a></li>
          <li><a href="/introductie">Introductie</a></li>
          <!-- <li><a href="">Contact</a></li> -->
          <li class="dropdown">
            <a href="#" class="dropdown-toggle" data-toggle="dropdown">Cursus <b class="caret"></b></a>
            <ul class="dropdown-menu">
              <li><a href="/installatie">Installatie</a></li>
              <li><a href="/command_line">Command Line</a></li>
              <li class="divider"></li>
              <li><a href="/hoofdstuk1">Hoofdstuk 1</a></li>
              <li><a href="/hoofdstuk2">Hoofdstuk 2</a></li>
              <li><a href="/hoofdstuk3">Hoofdstuk 3</a></li>
              <li><a href="/hoofdstuk4">Hoofdstuk 4</a></li>
            </ul>
          </li>
          <li><a href="/contact">Contact</a></li>
        </ul>
      </div><!--/.nav-collapse -->
    </div>
  </div>
</header> 

    <div class="container content">
      <div class="row">
        <div class="col-md-9">
          <div class="post">
  <h1>Overzicht les 4</h1>
  <span class="post-date">20 Mar 2014</span>
  <p>Jullie zijn er weer hard tegenaan gegaan bij Hoofdstuk 4 en velen van jullie zijn goed op weg met de <code>Game</code>-klasse. We hebben hieronder even de belangrijkste punten uit de laatste les op een rijtje gezet.</p>

<p>Probeer weer alles uit in <code>irb</code>!</p>

<p>En denk er aan dat de volgende les op <strong>vrijdag</strong> is om 15.15 uur!</p>

<h2 id="objecten">Objecten</h2>

<p>Het duurt even voordat je gewend raakt aan het programmeren met objecten, maar het is zeker de moeite waard en belangrijk om te leren. Zoals jullie hebben gezien maak je eerst een <code>class</code> aan, wat de blauwdruk is voor een object. Bijvoorbeeld:</p>
<div class='highlight'><pre><code class='ruby'><span class='k'>class</span> <span class='nc'>Boek</span>
    <span class='kp'>attr_accessor</span> <span class='ss'>:title</span><span class='p'>,</span> <span class='ss'>:author</span><span class='p'>,</span> <span class='ss'>:content</span>
    <span class='k'>def</span> <span class='nf'>initialize</span><span class='p'>(</span><span class='n'>title</span><span class='p'>,</span> <span class='n'>author</span><span class='p'>,</span> <span class='n'>content</span><span class='p'>)</span>
        <span class='vi'>@title</span> <span class='o'>=</span> <span class='n'>title</span>
        <span class='vi'>@author</span> <span class='o'>=</span> <span class='n'>author</span>
        <span class='vi'>@content</span> <span class='o'>=</span> <span class='n'>content</span>
    <span class='k'>end</span>

    <span class='k'>def</span> <span class='nf'>words</span>
        <span class='vi'>@content</span><span class='o'>.</span><span class='n'>split</span>
    <span class='k'>end</span>
<span class='k'>end</span>
</code></pre></div>
<p>Belangrijk om te onthouden:</p>

<ul>
<li>de naam van je <code>class</code> begint met een Hoofdletter</li>

<li>vergeet niet de <code>@</code> voor elke variabele</li>

<li>met <code>attr_accessor :variabele1</code> zorg je dat je <code>@variabele1</code> van buitenaf kunt aanroepen</li>

<li>de functie die <code>initialize</code> heet wordt automatisch uitgevoerd zodra je een object maakt</li>

<li>alle functies schrijf je net als normaal met <code>def functienaam</code></li>
</ul>

<p>Nadat je een klasse hebt gedefinieerd, kun je een object maken. Dit doe je zo:</p>
<div class='highlight'><pre><code class='ruby'><span class='n'>boek</span> <span class='o'>=</span> <span class='no'>Boek</span><span class='o'>.</span><span class='n'>new</span><span class='p'>(</span><span class='s2'>&quot;Lord of the Rings&quot;</span><span class='p'>,</span> <span class='s2'>&quot;J. R. R. Tolkien&quot;</span><span class='p'>,</span> <span class='s2'>&quot;Three Rings for the Elven-kings ...&quot;</span><span class='p'>)</span>
</code></pre></div>
<p>De waarden die je meegeeft aan <code>Boek.new()</code> komen terecht bij de <code>initialize</code> functie. Let dus goed op dat je deze in dezelfde volgorde zet.</p>

<p>Hierna kun je bij de variabelen en functies van het object:</p>
<div class='highlight'><pre><code class='ruby'><span class='n'>boek</span><span class='o'>.</span><span class='n'>author</span> <span class='c1'># =&gt; &quot;J. R. R. Tolkien&quot;</span>
<span class='n'>boek</span><span class='o'>.</span><span class='n'>words</span> <span class='c1'># =&gt; [&quot;Three&quot;, &quot;Rings&quot;, &quot;for&quot;, &quot;the&quot;, &quot;Elven-kings&quot;, &quot;...&quot;]</span>
<span class='n'>boek</span><span class='o'>.</span><span class='n'>title</span> <span class='o'>=</span> <span class='s2'>&quot;The Lord of the Rings&quot;</span> <span class='c1'># =&gt; &quot;The Lord of the Rings&quot;</span>
<span class='n'>boek</span><span class='o'>.</span><span class='n'>title</span> <span class='c1'># =&gt; &quot;The Lord of the Rings&quot;</span>
</code></pre></div>
<p>Zoals je ziet in de laatste twee regels kun je variabelen van object ook aanpassen, net zoals andere variabelen.</p>

<h2 id="2d_arrays">2D arrays</h2>

<p>Voor een spelbord als in tic tac toe kan een 2D array goed van pas komen. Dit is een lijst die eigenlijk hetzelfde werkt als een gewone (1D) lijst.</p>
<div class='highlight'><pre><code class='ruby'><span class='n'>bord</span> <span class='o'>=</span> <span class='o'>[[</span><span class='mi'>1</span><span class='p'>,</span><span class='mi'>2</span><span class='p'>,</span><span class='mi'>3</span><span class='o'>]</span><span class='p'>,</span> <span class='o'>[</span><span class='mi'>4</span><span class='p'>,</span><span class='mi'>5</span><span class='p'>,</span><span class='mi'>6</span><span class='o'>]</span><span class='p'>,</span> <span class='o'>[</span><span class='mi'>7</span><span class='p'>,</span><span class='mi'>8</span><span class='p'>,</span><span class='mi'>9</span><span class='o'>]]</span>
</code></pre></div>
<p>Als je hier goed naar kijkt, zie je dat het een lijst is met drie (!) elementen, die zelf ook lijsten zijn. Daarom krijg je dit:</p>
<div class='highlight'><pre><code class='ruby'><span class='n'>bord</span><span class='o'>[</span><span class='mi'>0</span><span class='o'>]</span> <span class='c1'># =&gt; [1,2,3]</span>
</code></pre></div>
<p>Als je nu een vakje op het bord wilt vinden, zoek je eerst een van deze drie elementen (rijen) en dan daarin een element (kolommen).</p>
<div class='highlight'><pre><code class='ruby'><span class='n'>bord</span><span class='o'>[</span><span class='mi'>0</span><span class='o'>][</span><span class='mi'>1</span><span class='o'>]</span> <span class='c1'># =&gt; 2</span>
</code></pre></div>
<p>Controleer voor jezelf met <code>irb</code> of je het door hebt. Wat wordt bijvoorbeeld <code>bord[2][0]</code>?</p>

<h2 id="bestanden_in_de_opdracht_tic_tac_toe">Bestanden in de opdracht (Tic tac toe)</h2>

<p>Voor de opdracht hebben we voor jullie een aantal bestanden gemaakt. Voor de duidelijkheid leggen we nog even uit waar deze voor dienen.</p>

<p>Je werkt voornamelijk in het <code>game.rb</code> bestand. Hierin maak je de <code>game</code>-klasse. Deze klasse regelt de hele logica van het spel. Zo moet het een aantal functies bevatten (je kunt hier van afwijken in jouw implementatie):</p>

<ul>
<li><code>over?</code> -&gt; deze bekijkt of het spel voorbij is, doordat een speler gewonnen heeft of door gelijkspel. Geeft <code>true</code> of <code>false</code></li>

<li><code>play(move)</code> -&gt; deze roep je aan als je een zet wilt doen. Je geeft hem de <code>move</code> mee (een getal die de plek aangeeft waar je wilt zetten, 1-9) en hij regelt dat er op de juiste plek een ‘X’ of ‘O’ komt</li>
</ul>

<p>Een ander bestand in de map is <code>narrator.rb</code>. De <code>narrator</code>-klasse gaat over het weergeven van dingen (<code>puts</code>). Zo hebben wij al een functie <code>draw_board(board)</code> gemaakt die je spelbord kan weergeven. Je werkt in de <code>game</code>-class met een bord als 2D array, maar je hebt de <code>narrator</code> nodig om het bord weer te geven.</p>

<p>Daarnaast zal de narrator alles gaan zeggen wat iemand die het spel gaat spelen nodig heeft.</p>

<p>Tot slot is er nog <code>tictactoe.rb</code>. Daarmee ga je het spel echt opstarten. Je maakt een spel aan(<code>game = Game.new</code>, net als in het voorbeeld met <code>Boek</code>) en je vraagt beurt na beurt om input van de speler. Tussendoor laat je de <code>narrator</code> het bord weergeven.</p>

<h2 id="testen">Testen</h2>

<p>Een makkelijke manier om snel je spel te testen is om het in te laden in <code>irb</code>. Dat doe je zo (zorg wel dat je <code>irb</code> opstart vanuit de map waarin je werkt:</p>
<div class='highlight'><pre><code class='ruby'><span class='nb'>load</span> <span class='s2'>&quot;game.rb&quot;</span>
</code></pre></div>
<p>Daarna kun je de <code>game</code>-klasse gaan aanroepen en de functies testen:</p>
<div class='highlight'><pre><code class='ruby'><span class='n'>game</span> <span class='o'>=</span> <span class='no'>Game</span><span class='o'>.</span><span class='n'>new</span>
<span class='n'>game</span><span class='o'>.</span><span class='n'>current_player</span> <span class='c1'># =&gt; &quot;X&quot;</span>
<span class='n'>game</span><span class='o'>.</span><span class='n'>over?</span> <span class='c1'># =&gt; false</span>
<span class='n'>game</span><span class='o'>.</span><span class='n'>play</span><span class='p'>(</span><span class='mi'>3</span><span class='p'>)</span>
<span class='n'>game</span><span class='o'>.</span><span class='n'>current_player</span> <span class='c1'># =&gt; &quot;O&quot;</span>
</code></pre></div>
<p>Het kan natuurlijk dat jouw klasse andere resultaten dan hierboven geeft, maar dit is hoe je het test. Vergeet niet nadat je iets verandert in je script het script op te slaan en opnieuw <code>load &quot;game.rb&quot;</code> in <code>irb</code> te doen.</p>

<p>Naast het laden in <code>irb</code> kun je natuurlijk ook je programma zelf draaien. Gebruik hiervoor <code>tictactoe.rb</code>. Net als in <code>irb</code> kun je daar een nieuw spel maken en dan je functies proberen.</p>

<h2 id="voor_thuis">Voor thuis</h2>

<p>Het zijn de laatste twee weken, maar dit is een iets langere opdracht dan anders. Ook is de volgende les op <strong>vrijdag</strong> (15.15 uur), waardoor je langer hebt tussen de twee lessen. Ga dus lekker thuis aan de slag. Schrijf je script functie voor functie. Ook al snap je misschien even niet meer wat er allemaal gebeurt, kun je de functie wel schrijven.</p>

<p>Kom je er niet uit? Mail dan vooral naar <a href="mailto:ghkapteijns@gmail.com">ghkapteijns@gmail.com</a></p>

<p>Succes en tot volgende week!</p>
</div>

<!-- <div class="related">
  <h2>Related Posts</h2>
  <ul class="related-posts">
    
      <li>
        <h3>
          <a href="/2014/02/22/fijne-vakantie/">
            Fijne vakantie!
            <small>22 Feb 2014</small>
          </a>
        </h3>
      </li>
    
      <li>
        <h3>
          <a href="/2014/02/05/overzicht-les-1/">
            Overzicht les 1
            <small>05 Feb 2014</small>
          </a>
        </h3>
      </li>
    
  </ul>
</div> -->

        </div>

        <div class="col-md-3">
          <div class="page-map-sidebar" data-spy="affix">
            <ul id="page-map" class="nav">
            </ul>
          </div>
        </div>
      </div>
    </div>

  <footer>
  <div class="container">
  <div class="row">
    <div class="col-md-9">
      <p><a href="/" id="logo" class="footer-brand">ruby{prog}</a></p>

      <p>Deze cursus is ontwikkeld door Geert Kapteijns en Boris Ponsioen. Het materiaal is vrij te gebruiken onder de <a href="http://creativecommons.org/licenses/by-nc/4.0/deed.nl">CC BY-NC 4.0-licentie</a> --- je mag er alles mee doen, zolang het maar niet-commercieel is.</p>

      <p>Meehelpen? Zie de <a href="https://github.com/b1592/b1592.github.io">Github-pagina.</a></p>

      <p>Alle kritiek is welkom. Mail naar <a href="mailto:ghkapteijns@gmail.com">ghkapteijns@gmail.com</a>.</p>
    </div>
    <div class="col-md-3">
    &nbsp;
    </div>
    </div>
  </div>
</footer>

  <script type="text/javascript">

  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-47467348-1']);
  _gaq.push(['_trackPageview']);

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();

</script>

  <!-- Load JS here for greater good =============================-->
    <script src="/public/bootstrap/js/bootstrap.min.js"></script>
    
      <script src="/public/js/scrollspy.js"></script>
    
    <script src="/public/js/custom.js"></script>
  </body>
</html>
