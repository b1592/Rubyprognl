// Generated by CoffeeScript 1.7.1
(function() {
  this.Question = (function() {
    function Question(params) {
      this.description = params.description;
      this._answer = params.answer;
      this._possible_errors = params.possible_errors;
      this._error_messages = params.error_messages;
    }

    Question.prototype.evaluate = function(command) {
      this.isRightAnswer = this._answer.test(command);
      if (!this.isRightAnswer) {
        return this._assignErrorMessage(command);
      }
    };

    Question.prototype._assignErrorMessage = function(command) {
      var error, pattern, _ref;
      this.error_message = null;
      _ref = this._possible_errors;
      for (error in _ref) {
        pattern = _ref[error];
        if (pattern.test(command)) {
          this.error_message = this._error_messages[error];
        }
      }
      if (!this.error_message) {
        return this.error_message = this._error_messages["default"];
      }
    };

    return Question;

  })();

  module.exports = this.Question;

}).call(this);
