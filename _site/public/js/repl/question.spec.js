// Generated by CoffeeScript 1.7.1
(function() {
  var Question;

  Question = require("./question");

  describe("Question", function() {
    var question;
    question = {};
    beforeEach(function() {
      var question_params;
      question_params = {
        description: "Typ eens x = 1.",
        answer: /x\s*=\s*1/,
        possible_errors: {
          wrong_value: /x\s*=\s*\d/
        },
        error_messages: {
          wrong_value: "Je hebt de verkeerde waarde toegewezen.",
          "default": "Dat is niet goed. Typte je x = 1?"
        }
      };
      return question = new Question(question_params);
    });
    it("knows its description", function() {
      return expect(question.description).toEqual("Typ eens x = 1.");
    });
    return describe("Evaluating a command", function() {
      it("knows if the answer is correct", function() {
        question.evaluate("x = 1");
        return expect(question.isRightAnswer).toEqual(true);
      });
      it("gives an appropriate response if answer is incorrect", function() {
        question.evaluate("x = 5");
        expect(question.isRightAnswer).toEqual(false);
        return expect(question.error_message).toEqual("Je hebt de verkeerde waarde toegewezen.");
      });
      it("gives the default response if it can't match any common mistakes", function() {
        question.evaluate("carrot");
        return expect(question.error_message).toEqual("Dat is niet goed. Typte je x = 1?");
      });
      return it("updates its responses accordingly", function() {
        question.evaluate("x = 5");
        question.evaluate("carrot");
        return expect(question.error_message).toEqual("Dat is niet goed. Typte je x = 1?");
      });
    });
  });

}).call(this);
